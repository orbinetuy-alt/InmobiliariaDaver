<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Debug Cards - Data Attributes</title>
  <style>
    body {
      font-family: monospace;
      padding: 20px;
      background: #f5f5f5;
    }
    .card-debug {
      background: white;
      padding: 15px;
      margin: 10px 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .card-debug h3 {
      margin: 0 0 10px 0;
      color: #333;
      font-size: 14px;
    }
    .attribute {
      padding: 5px 0;
      border-bottom: 1px solid #eee;
    }
    .attr-name {
      font-weight: bold;
      color: #667eea;
      display: inline-block;
      width: 150px;
    }
    .attr-value {
      color: #333;
    }
    .empty {
      color: red;
      font-weight: bold;
    }
    .warning {
      background: #fff3cd;
      padding: 10px;
      margin: 20px 0;
      border-left: 4px solid #ffd700;
    }
    button {
      background: #667eea;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      margin: 10px 0;
    }
    button:hover {
      background: #5568d3;
    }
  </style>
</head>
<body>
  <h1>ğŸ” Debug de Data Attributes en Cards</h1>
  <div class="warning">
    <strong>Este archivo analiza los atributos data-* de cada tarjeta en listings.html</strong><br>
    Verifica: data-type, data-operation, data-zone, data-bedrooms, data-price
  </div>
  
  <button onclick="window.open('http://localhost:8000/listings.html', '_blank')">
    Abrir listings.html en nueva pestaÃ±a
  </button>
  <button onclick="analyzeCards()">Recargar anÃ¡lisis</button>
  
  <div id="cards-container">
    <p>Carga listings.html en otra pestaÃ±a, luego haz click en "Recargar anÃ¡lisis"</p>
  </div>

  <script>
    function analyzeCards() {
      // Este script debe ejecutarse en listings.html
      // Por ahora voy a dar instrucciones de cÃ³mo ejecutarlo
      const container = document.getElementById('cards-container');
      
      container.innerHTML = `
        <div style="background: #e3f2fd; padding: 20px; border-radius: 8px; margin: 20px 0;">
          <h3 style="margin-top: 0;">ğŸ“‹ Instrucciones para depurar:</h3>
          <ol style="font-family: sans-serif; line-height: 1.8;">
            <li>Abre <strong>listings.html</strong> en otra pestaÃ±a del navegador</li>
            <li>Abre las <strong>Herramientas de desarrollo</strong> (Cmd + Option + I en Safari)</li>
            <li>Ve a la pestaÃ±a <strong>Console</strong></li>
            <li>Pega este cÃ³digo y presiona Enter:</li>
          </ol>
          <pre style="background: #333; color: #0f0; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 12px;">
// Esperar a que se carguen las tarjetas
setTimeout(() => {
  const cards = document.querySelectorAll('.listings .card');
  
  console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
  console.log('ğŸ” ANÃLISIS DE DATA ATTRIBUTES');
  console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
  console.log('Total de tarjetas encontradas:', cards.length);
  console.log('');
  
  if (cards.length === 0) {
    console.error('âŒ NO SE ENCONTRARON TARJETAS');
    console.log('Verifica que las propiedades se hayan cargado desde Firebase');
  } else {
    cards.forEach((card, index) => {
      console.log(\`\nğŸ  TARJETA #\${index + 1}\`);
      console.log('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€');
      
      const title = card.querySelector('h4')?.textContent || 'Sin tÃ­tulo';
      console.log('TÃ­tulo:', title);
      
      const dataType = card.getAttribute('data-type');
      const dataOperation = card.getAttribute('data-operation');
      const dataZone = card.getAttribute('data-zone');
      const dataBedrooms = card.getAttribute('data-bedrooms');
      const dataPrice = card.getAttribute('data-price');
      
      console.log('data-type:', dataType || 'âŒ VACÃO');
      console.log('data-operation:', dataOperation || 'âŒ VACÃO');
      console.log('data-zone:', dataZone || 'âŒ VACÃO');
      console.log('data-bedrooms:', dataBedrooms || 'âŒ VACÃO');
      console.log('data-price:', dataPrice || 'âŒ VACÃO');
      
      // Verificar problemas
      const problems = [];
      if (!dataType) problems.push('type vacÃ­o');
      if (!dataOperation) problems.push('operation vacÃ­o');
      if (!dataZone) problems.push('zone vacÃ­o');
      
      if (problems.length > 0) {
        console.warn('âš ï¸ PROBLEMAS:', problems.join(', '));
      }
    });
    
    console.log('\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
    console.log('âœ… ANÃLISIS COMPLETADO');
    console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n');
  }
}, 2000);
          </pre>
          <p style="font-family: sans-serif; background: #fff3cd; padding: 10px; border-radius: 5px; margin-top: 15px;">
            ğŸ’¡ <strong>Tip:</strong> Si ves que algÃºn atributo estÃ¡ VACÃO, eso significa que los datos no se estÃ¡n 
            guardando correctamente en Firebase o no se estÃ¡n leyendo bien.
          </p>
        </div>
      `;
    }
    
    // Ejecutar al cargar
    analyzeCards();
  </script>
</body>
</html>
